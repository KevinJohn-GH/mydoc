# 2.2 变量

**变量（variable）** 提供一个具名的，可供程序操作的存储空间。



## 2.2.1 变量定义

变量定义的基本形式是：首先是**类型说明符（type specifier）**， 后紧跟由一个或多个变量名组成的列表，其中变量名以逗号分隔，最后以分号结束。

> 何为对象?
>
> 对象是指一块能存储数据并具有某种类型的的内存空间。

#### 初始值

当对象在创建时获得了一个特定的值，我们说这个对象被**初始化（initialized）**了。

>初始化不是赋值，初始化的含义是创建变量时赋予一个初始值，而赋值的含义是把对象的当前值擦除，而以一个新的值替代。

#### 列表初始化

初始化的4种形式：

```c++
int a = 0;
int a = {0};
int a{0};
int a(0);
```

**列表初始化（list initialized）**用花括号来初始化变量

**重要特点** ：如果使用列表初始化且初始值存在随时信息的风险，则编译器将报错。

#### 默认初始化

如果定义变量时没有指定初始值，则变量被**默认初始化（default initialized）**。

默认值由变量类型决定，定义变量的位置也会产生影响。

内置变量如果未被初始化，它的值由定义的位置决定。

 - 定义于任何函数体之外的：内置变量被初始化为0。
 - 定义于函数体内的：内置变量将**不被初始化（uninitialized）** 
- 类的对象如果没有显示地初始化，则其值由类决定。



## 2.2.2 变量声明和定义的关系

**声明（declaration）**使得名字为程序所知，一个文件如果想使用别处定义的名字必须包含对那个名字的声明。

**定义（definition）**负责创建与名字关联的实体。

区别：变量声明规定了变量的类型和名字，这一点与定义相同。但是定义还要申请内存空间，也可能会为变量赋初始值。

声明变量而不定义它的方法：

```
extern int i;	//声明而非定义i
```

- 任何包含显示初始化的声明即成为定义。显示初始化会抵消``extern``的作用。
- 在函数体内部，如果试图初始化一个由`extern`关键字标记的变量，将引发错误。
- 变量只能被定义一次，但是能被声明多次。


extern修饰的关键字，具有文件外部链接，但是声明extern变量时，编译器并不会给这个变量分配内存，在另外的文件中定义这个文件时才会为其分配内存


## 2.2.3 标识符

**标识符（identifier）** 由字母、下划线和数字。必须以字母和下划线开头。

变量命名规范：

- 标识符要能体现实际含义。
- 变量名用小写。
- 用户定义的类名用大写开头。
- 单词间用下划线明显区分。



## 2.2.4名字的作用域

C++语言大多数**作用域（scope）**都以花括号分隔。

**全局作用域（global scope）** ：一旦声明可以在整个程序的范围内都可使用。

**块作用域（block scope）** ：在程序的局部可以使用。

建议：在你第一次使用变量时再定义它

#### 嵌套的作用域

作用域能彼此包含，被包含的作用域称为**内层作用域（inner scope）**，

包含其他作用域的作用域称为**外层作用域（out scope）** 。

- 内层作用域可以访问外层作用域的名字。
- 内层作用域可以在内层重新定义外层已有的名字。
- 全局作用域没有名字，所以使用`::name`访问全局作用域的名字。

