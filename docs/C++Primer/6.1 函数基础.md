# 6.1 函数基础

#### 形参和实参

实参是形参的初始值。对应位置的实参初始对应位置的形参。形参与实参数量相等，否则出行错误。尽管实参与形参存在对应关系，但是没有规定实参的求值顺序。编译器能以任何可行的顺序对实参求值。

#### 函数返回类型

函数的返回值不能是数组类型或函数类型，但是可以是指向数组或函数的指针。



## 6.1.1 局部对象

在C++语言中，名字有作用域，对象有**生命周期（lifetime）**。

- 名字的作用域是程序文本红的一部分，名字在其中可见。
- 对象的生命周期是程序执行过程中该对象存在的一段时间。

形参和函数体内定义的变量统称为**局部变量（local variable）**。

#### 自动对象

对于普通局部变量对应的对象来说，当函数的控制路径经过变量定义语句时创建该对象，当到达定义所在的块末尾时销毁它。我们把只存在于块执行期间的对象称为**自动对像（automatic object）**。

#### 局部静态对象

令局部变量的生命周期贯穿函数调用以及之后的时间：将局部变量定义成`static`类型。**局部静态对象（local static object）**直到程序终止才会被销毁。

```c++
static  int count(){
    static int num = 0;
    return ++num;
}
int main(){
    for(int i = 0; i < 10; ++i){
        cout << count() <<endl;
    }
}
```

如果局部静态变量没有显示的初始值，它将执行值初始化，内置类型的局部静态变量初始化为0。

**注意：**局部静态对象，仍是局部的，作用域限制在块中，但是生命周期一直到程序结束。



##6.1.2 函数声明

函数的名字必须在使用之前声明。函数只能定义一次，但是可以声明多次。

函数的声明与函数定义非常类似，唯一区别是无函数体，用一个分号替代即可。

函数的声明可以有形参的名字，也可以没有，但是有形参助于理解。

函数声明也称作**函数原型（function prototype）** 。



## 6.3.1 分离式编译

为了允许编写程序时按照逻辑关系将其划分开来，C++语言支持所谓的**分离式编译（separate complication）**。 

一个项目由若干个源文件共同实现，而每个源文件(**.cpp**)单独编译成目标文件(**.obj**)，最后将所有目标文件连接起来形成单一的可执行文件(**.exe**)的过程。

```c++
//h1.h
# ifndef H1
# define H1
int count();	//函数声明
# endif

//cout.cpp
# include "h1.h"
using namespace std;
int count(){	//函数定义
    return 321654;
}

//main.cpp
# include <iostream>
# include "h1.h"
using namespace std;
int main(){
    cout<<count()<<endl;	//函数调用
}

//编译过程
g++ cout.cpp mian.cpp -o mian
```

