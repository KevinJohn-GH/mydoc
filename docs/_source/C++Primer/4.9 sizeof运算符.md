# 4.9 sizeof运算符

`sizeof`运算符返回一条表达式或一个类型名字所占的字节数。满足右结合律，返回的是一个size_t类型的常量表达式。

```c++
sizeof (type)
sizeof expr	//返回表达式结果类型的大小，但计算其值
```

C++11新标准允许我们使用作用域运算符来获取类成员的大小。通常情况下只有通过类的对象才能访问到类的成员，但是sizeof运算符无需我们提供一个具体的对象，因为想要直到类成员的大小无需真的获取该成员。

sizeof运算符的结果部分地依赖域其作用的类型：

- 对char或者类型为char的表达式执行sizeof运算，结果的1。
- 对引用类型执行sizeof运算得到被引用对象所占空间的大小。
- 对指针执行sizeof运算的到指针本身所占空间的大小。
- 对解引用指针执行sizeof运算得到指针指向的对象所占的空间大小，指针不需要有效。
- 对数组执行sizeof运算得到整个数组所占空间的大小，等价于对数组中所有元素执行一直sizeof运算并将所得结果求和。注意sizeof运算不会把数组转换成指针来处理。
- 对string对象或vector对象执行sizeof预算只返回固定部分的大小，不会计算对象中的元素占用了多少空间。

```c++
//sizeof(ia)/sizeof(*ia)返回ia的元素数量
constexpr size_t sz = sizeof(ia)/sizeof(*a);	//constexpr：编译时就获取sz
int arr2[sz];	//正确：sizeof返回一个常量表达式
```

